{"ast":null,"code":"import _regeneratorRuntime from\"/home/jlramos/Documents/ReactTS/my-app-ts/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/home/jlramos/Documents/ReactTS/my-app-ts/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/jlramos/Documents/ReactTS/my-app-ts/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import'./App.css';import{Grid,TextField,Fab}from'@material-ui/core';import AddShoppingCartIcon from'@material-ui/icons/AddShoppingCart';import TodoList from'./components/TodoList';import{Store}from'./Store';export default function App(){var _React$useContext=React.useContext(Store),state=_React$useContext.state,dispatch=_React$useContext.dispatch;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),todos=_useState4[0],setTodos=_useState4[1];useEffect(function(){var array=JSON.parse(localStorage.getItem(\"todos\"));if(array===null){setTodos([]);}else{setTodos(array);}fetchDataAction();},[]);useEffect(function(){localStorage.setItem('todos',JSON.stringify(_toConsumableArray(todos)));});var handleSubmit=function handleSubmit(){if(value!==''){addTodo(value);setValue('');}};var handleKeyPress=function handleKeyPress(event){if(event.key==='Enter'){handleSubmit();}};var addTodo=function addTodo(text){setTodos([].concat(_toConsumableArray(todos),[{text:text,complete:false}]));localStorage.setItem('todos',JSON.stringify(_toConsumableArray(todos)));};var complete=function complete(index){todos[index].complete=!todos[index].complete;setTodos(_toConsumableArray(todos));localStorage.setItem('todos',JSON.stringify(_toConsumableArray(todos)));};var remove=function remove(index){todos.splice(index,1);setTodos(_toConsumableArray(todos));localStorage.setItem('todos',JSON.stringify(_toConsumableArray(todos)));};var fetchDataAction=function fetchDataAction(){var data,dataJSON;return _regeneratorRuntime.async(function fetchDataAction$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(fetch('https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes'));case 2:data=_context.sent;_context.next=5;return _regeneratorRuntime.awrap(data.json());case 5:dataJSON=_context.sent;console.log('done');return _context.abrupt(\"return\",dispatch({type:'FETCH',payload:dataJSON._embedded.episodes}));case 8:case\"end\":return _context.stop();}}});};return React.createElement(Fragment,null,console.log(state),React.createElement(Grid,{container:true,spacing:6},React.createElement(Grid,{item:true,xs:12,style:{textAlign:'center'}})),React.createElement(Grid,{container:true,spacing:3,style:{marginTop:'60px'}},React.createElement(Grid,{item:true,xs:8,style:{textAlign:'center'}},React.createElement(TextField,{id:\"outlined-basic\",label:\"A\\xF1ade un producto\",variant:\"outlined\",value:value,onChange:function onChange(e){return setValue(e.target.value);},onKeyPress:handleKeyPress})),React.createElement(Grid,{item:true,xs:4},React.createElement(Fab,{color:\"primary\",\"aria-label\":\"add\",onClick:handleSubmit},React.createElement(AddShoppingCartIcon,null)))),React.createElement(TodoList,{todos:todos,complete:complete,delete:remove}));}","map":{"version":3,"sources":["/home/jlramos/Documents/ReactTS/my-app-ts/src/App.tsx"],"names":["React","Fragment","useState","useEffect","Grid","TextField","Fab","AddShoppingCartIcon","TodoList","Store","App","useContext","state","dispatch","value","setValue","todos","setTodos","array","JSON","parse","localStorage","getItem","fetchDataAction","setItem","stringify","handleSubmit","addTodo","handleKeyPress","event","key","text","complete","index","remove","splice","fetch","data","json","dataJSON","console","log","type","payload","_embedded","episodes","textAlign","marginTop","e","target"],"mappings":"mXAAA,MAAOA,CAAAA,KAAP,EAAiBC,QAAjB,CAA2BC,QAA3B,CAAqCC,SAArC,KAAiF,OAAjF,CACA,MAAO,WAAP,CACA,OAASC,IAAT,CAAeC,SAAf,CAA0BC,GAA1B,KAAqC,mBAArC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,oCAAhC,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,OAAQC,KAAR,KAAoB,SAApB,CAQA,cAAe,SAASC,CAAAA,GAAT,EAA2B,uBAEdV,KAAK,CAACW,UAAN,CAAiBF,KAAjB,CAFc,CAEjCG,KAFiC,mBAEjCA,KAFiC,CAE1BC,QAF0B,mBAE1BA,QAF0B,eAIdX,QAAQ,CAAC,EAAD,CAJM,wCAIjCY,KAJiC,eAI1BC,QAJ0B,8BAKdb,QAAQ,CAAU,EAAV,CALM,yCAKjCc,KALiC,eAK1BC,QAL0B,eAOxCd,SAAS,CAAC,UAAM,CAEd,GAAIe,CAAAA,KAAK,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAZ,CACA,GAAIJ,KAAK,GAAK,IAAd,CAAoB,CAClBD,QAAQ,CAAC,EAAD,CAAR,CACD,CAFD,IAEO,CACLA,QAAQ,CAACC,KAAD,CAAR,CACD,CAEDK,eAAe,GAEhB,CAXQ,CAWN,EAXM,CAAT,CAaApB,SAAS,CAAC,UAAM,CACdkB,YAAY,CAACG,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,SAAL,oBAAmBT,KAAnB,EAA9B,EACD,CAFQ,CAAT,CAIA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAIZ,KAAK,GAAK,EAAd,CAAkB,CAChBa,OAAO,CAACb,KAAD,CAAP,CACAC,QAAQ,CAAC,EAAD,CAAR,CACD,CACF,CALD,CAOA,GAAMa,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAA0C,CAC/D,GAAGA,KAAK,CAACC,GAAN,GAAc,OAAjB,CAAyB,CACvBJ,YAAY,GACb,CACF,CAJD,CAMA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACI,IAAD,CAAiB,CAC/Bd,QAAQ,8BAAKD,KAAL,GAAY,CAACe,IAAI,CAAEA,IAAP,CAAaC,QAAQ,CAAE,KAAvB,CAAZ,GAAR,CACAX,YAAY,CAACG,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,SAAL,oBAAmBT,KAAnB,EAA9B,EACD,CAHD,CAKA,GAAMgB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAyB,CACxCjB,KAAK,CAACiB,KAAD,CAAL,CAAaD,QAAb,CAAwB,CAAChB,KAAK,CAACiB,KAAD,CAAL,CAAaD,QAAtC,CACAf,QAAQ,oBAAKD,KAAL,EAAR,CACAK,YAAY,CAACG,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,SAAL,oBAAmBT,KAAnB,EAA9B,EACD,CAJD,CAMA,GAAMkB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACD,KAAD,CAAyB,CACtCjB,KAAK,CAACmB,MAAN,CAAaF,KAAb,CAAoB,CAApB,EACAhB,QAAQ,oBAAKD,KAAL,EAAR,CACAK,YAAY,CAACG,OAAb,CAAqB,OAArB,CAA8BL,IAAI,CAACM,SAAL,oBAAmBT,KAAnB,EAA9B,EACD,CAJD,CAMA,GAAMO,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,+LACHa,KAAK,CAAC,yEAAD,CADF,SAChBC,IADgB,gEAECA,IAAI,CAACC,IAAL,EAFD,SAEhBC,QAFgB,eAItBC,OAAO,CAACC,GAAR,CAAY,MAAZ,EAJsB,gCAMf5B,QAAQ,CAAC,CACd6B,IAAI,CAAE,OADQ,CAEdC,OAAO,CAAEJ,QAAQ,CAACK,SAAT,CAAmBC,QAFd,CAAD,CANO,gDAAxB,CAaA,MACE,qBAAC,QAAD,MACGL,OAAO,CAACC,GAAR,CAAY7B,KAAZ,CADH,CAEE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,CAAmB,KAAK,CAAE,CAACkC,SAAS,CAAE,QAAZ,CAA1B,EADF,CAFF,CAME,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,CAA4B,KAAK,CAAE,CAAEC,SAAS,CAAE,MAAb,CAAnC,EACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,KAAK,CAAE,CAACD,SAAS,CAAE,QAAZ,CAAzB,EACE,oBAAC,SAAD,EAAW,EAAE,CAAC,gBAAd,CAA+B,KAAK,CAAC,sBAArC,CAAyD,OAAO,CAAC,UAAjE,CAA4E,KAAK,CAAEhC,KAAnF,CAA0F,QAAQ,CAAE,kBAAAkC,CAAC,QAAIjC,CAAAA,QAAQ,CAACiC,CAAC,CAACC,MAAF,CAASnC,KAAV,CAAZ,EAArG,CAAmI,UAAU,CAAEc,cAA/I,EADF,CADF,CAIE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,EACA,oBAAC,GAAD,EAAK,KAAK,CAAC,SAAX,CAAqB,aAAW,KAAhC,CAAsC,OAAO,CAAEF,YAA/C,EACI,oBAAC,mBAAD,MADJ,CADA,CAJF,CANF,CAkBE,oBAAC,QAAD,EAAU,KAAK,CAAEV,KAAjB,CAAwB,QAAQ,CAAEgB,QAAlC,CAA4C,MAAM,CAAEE,MAApD,EAlBF,CADF,CAwBD","sourcesContent":["import React , { Fragment, useState, useEffect, KeyboardEvent, useContext } from 'react';\nimport './App.css';\nimport { Grid, TextField, Fab } from '@material-ui/core';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport TodoList from './components/TodoList'\nimport {Store} from './Store'\n\n\ninterface ITodo {\n  text: string\n  complete: boolean\n}\n\nexport default function App(): JSX.Element{\n\n  const {state, dispatch} = React.useContext(Store)\n\n  const [value, setValue] = useState('');\n  const [todos, setTodos] = useState<ITodo[]>([]);\n  \n  useEffect(() => {\n\n    var array = JSON.parse(localStorage.getItem(\"todos\")!);\n    if (array === null) {\n      setTodos([])\n    } else {\n      setTodos(array)\n    }\n\n    fetchDataAction()\n\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('todos', JSON.stringify([...todos]))\n  });\n\n  const handleSubmit = () => {\n    if (value !== '') {\n      addTodo(value);\n      setValue('');  \n    }\n  }\n\n  const handleKeyPress = (event: KeyboardEvent<HTMLDivElement>) => {\n    if(event.key === 'Enter'){\n      handleSubmit();\n    }\n  }\n\n  const addTodo = (text:string) => {\n    setTodos([...todos, {text: text, complete: false}])\n    localStorage.setItem('todos', JSON.stringify([...todos]))\n  }\n\n  const complete = (index: number): void => {\n    todos[index].complete = !todos[index].complete\n    setTodos([...todos])\n    localStorage.setItem('todos', JSON.stringify([...todos]))\n  }\n\n  const remove = (index: number): void => {\n    todos.splice(index, 1);\n    setTodos([...todos])\n    localStorage.setItem('todos', JSON.stringify([...todos]))\n  }\n\n  const fetchDataAction = async() => {\n    const data = await fetch('https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes')\n    const dataJSON = await data.json();\n\n    console.log('done')\n\n    return dispatch({\n      type: 'FETCH',\n      payload: dataJSON._embedded.episodes\n    })\n  }\n\n\n  return (\n    <Fragment>\n      {console.log(state)}\n      <Grid container spacing={6}>\n        <Grid item xs={12} style={{textAlign: 'center'}}>\n        </Grid>\n      </Grid>\n      <Grid container spacing={3} style={{ marginTop: '60px' }}>\n        <Grid item xs={8} style={{textAlign: 'center'}}>\n          <TextField id=\"outlined-basic\" label=\"AÃ±ade un producto\" variant=\"outlined\" value={value} onChange={e => setValue(e.target.value)} onKeyPress={handleKeyPress}/>  \n        </Grid>\n        <Grid item xs={4}>\n        <Fab color=\"primary\" aria-label=\"add\" onClick={handleSubmit}>\n            <AddShoppingCartIcon />\n          </Fab>\n\n        </Grid>\n      </Grid>\n\n      <TodoList todos={todos} complete={complete} delete={remove}/>\n\n    </Fragment>\n\n  );\n}\n"]},"metadata":{},"sourceType":"module"}